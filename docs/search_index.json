[
["medidas-de-resumen.html", "Capítulo 10 Medidas de resumen 10.1 Medidas de posición 10.2 Medidas de dispersión 10.3 Medidas de forma 10.4 Estandarización", " Capítulo 10 Medidas de resumen 10.1 Medidas de posición Las medidas de posición nos van a dar información acerca de diferentes localizaciones de los datos en una variables. Pueden ser centrales, como la media, la mediana y la moda. O no centrales, como los cuartiles y percentiles. 10.1.1 Proporción Es una frecuencia relativa. Vimos varios ejemplos de proporciones cuando realizamos las tablas de distribución de frecuencia en el Capítulo 8. Calculemos la proporción de personas que alguna vez en la vida consumieron marihuana. ## Proporción de personas que consumieron marihuana alguna vez en la vida (PV_MA) marihuana &lt;- enprecosp$PV_MA marihuana &lt;- factor(marihuana, labels = c(&quot;Sí&quot;, &quot;No&quot;) ) p &lt;- prop.table(table(marihuana)) p ## marihuana ## Sí No ## 0.07326093 0.92673907 Entonces, el 7,33% de los encuestados consumió alguna vez marihuana en la vida. 10.1.2 Moda Es el valor de la variable que más se repite. Es el valor de la variable que tenga la frecuencia más alta. ## En el periodo en que usted consumía marihuana con ## mayor frecuencia ¿cada cuánto consumía? fconsumo &lt;- enprecosp$BIMA04 fconsumo &lt;- factor(fconsumo, levels = c(1:6, 9), labels = c(&quot;Casi todos los días&quot;, &quot;3 0 4 días a la semana&quot;, &quot;1 o 2 días a la semana&quot;, &quot;De 1 a 3 días al mes&quot;, &quot;Menos de una vez al mes&quot;, &quot;Una sola vez&quot;, &quot;Ns/Nc&quot;)) ## Calculamos las frecuencias absolutas p &lt;- table(fconsumo) p ## fconsumo ## Casi todos los días 3 0 4 días a la semana 1 o 2 días a la semana ## 259 119 267 ## De 1 a 3 días al mes Menos de una vez al mes Una sola vez ## 248 485 1120 ## Ns/Nc ## 18 ## Buscamos el valor con la frecuencia máxima which.max(p) ## Una sola vez ## 6 10.1.3 Mediana Es el valor de la variable que deja por debajo y por arriba, el 50% de los casos. Podemos calcularla a partir de variables de nivel ordinal. La podemos observar a partir de las frecuencias relativas acumuladas. Continuando con la frecuencia de consumo de marihuana ## En el periodo en que usted consumía marihuana con ## mayor frecuencia ¿cada cuánto consumía? fconsumo &lt;- enprecosp$BIMA04 ## Excluimos el valor 9, Ns/Nc fconsumo &lt;- factor(fconsumo, levels = c(6:1), labels = c(&quot;Una sola vez&quot;, &quot;Menos de una vez al mes&quot;, &quot;De 1 a 3 días al mes&quot;, &quot;1 o 2 días a la semana&quot;, &quot;3 o 4 días a la semana&quot;, &quot;Casi todos los días&quot; ), ordered = TRUE) ## Frecuencias absolutas frec &lt;- table(fconsumo) ## Frecuencias relativas frel &lt;- prop.table(frec) ## Frecuencias relativas acumuladas cumfrel &lt;- cumsum(frel) cumfrel ## Una sola vez Menos de una vez al mes De 1 a 3 días al mes ## 0.4483587 0.6425140 0.7417934 ## 1 o 2 días a la semana 3 o 4 días a la semana Casi todos los días ## 0.8486789 0.8963171 1.0000000 El primer valor que supera 0.5 es la mediana. En este caso, la mediana es menos de una vez al mes. 10.1.4 Cuartiles y percentiles Los cuartiles dividen al conjunto de datos en 4. El primer cuartil (1Q) es el valor de la variable que deja por debajo el 25% de los casos. El tercer cuartil (3er cuartil) es el valor de la variable que deja por debajo el 75% de los casos. El segundo cuartil (2Q) es el valor que deja por debajo el 25% de los casos. Es la mediana. Si dividimos a la distribución de datos en 100, obtenemos los percentiles. El percentil r es el valor de la variable que deja el r por ciento de los casos por debajo de él. Utilicemos estas medidas para comparar la edad de inicio de consumo de alcohol, tabaco y marihuana. ## Seleccionamos las variables de edad de inicio de consumo ## para tabaco, alcohol y marihuana edad_tabaco &lt;- enprecosp$BITA03[enprecosp$BITA03 != 99] edad_alcohol &lt;- enprecosp$BIBA03[enprecosp$BIBA03 != 99] edad_marihuana &lt;- enprecosp$BIMA03[enprecosp$BIMA03 != 99] ## Calculamos los cuantiles quantile(edad_tabaco, na.rm = TRUE) ## 0% 25% 50% 75% 100% ## 3 15 16 18 64 quantile(edad_alcohol, na.rm = TRUE) ## 0% 25% 50% 75% 100% ## 1 15 17 20 64 quantile(edad_marihuana, na.rm = TRUE) ## 0% 25% 50% 75% 100% ## 8 16 18 21 59 ## Calculamos los percentiles 5 y 95 quantile(edad_tabaco, c(0.05, 0.95), na.rm = TRUE) ## 5% 95% ## 12 25 quantile(edad_alcohol, c(0.05, 0.95), na.rm = TRUE) ## 5% 95% ## 13 26 quantile(edad_marihuana, c(0.05, 0.95), na.rm = TRUE) ## 5% 95% ## 14 30 10.1.5 Media Es el promedio. Se obtiene sumando todos los datos y dividiendo por el número de casos. \\[ \\bar{x} = \\frac{\\displaystyle \\sum_{i=1}^n x_i}{n} \\] La media, a diferencia de la mediana, es sensible a valores extremos. Observemos un ejemplo. ## Cantidad de miembros en el hogar nhogar &lt;- enprecosp$CNTDDCOMP range(nhogar) ## [1] 1 24 ## Graficamos hist(nhogar) ## Calculamos las medidas de resumen sum(nhogar)/length(nhogar) ## [1] 3.572751 mean(nhogar) ## [1] 3.572751 median(nhogar) ## [1] 3 10.2 Medidas de dispersión Son medidas que nos indican el grado de agrupación de los datos 10.2.1 Rango o recorrido Es la distancia entre el valor máximo y el valor mínimo. \\[ R = x_{n} - x_{1} \\] Donde: \\(x_n\\) es el valor máximo \\(x_1\\) es el valor mínimo ## Veamos cual es el rango de la variables cantidad de miembros del hogar nhogar &lt;- enprecosp$CNTDDCOMP range(nhogar) ## [1] 1 24 ## Rango para cantidad de habitaciones del hogar nhabitaciones &lt;- enprecosp$BHHO02 range(nhabitaciones) ## [1] 0 20 También son de utilidad el rango o recorrido intercuartilar y el rango o recorrido semi-intercuartilar. El rango o recorrido intercuartilar se simboliza con AIQ y es la distancia entre el tercer y el primer cuartil. El rango o recorrido intercuartilar se simboliza con SRIC y es la mitad del AIQ. Calulemos estas distancias para el tiempo de consumo de tabaco, alcohol y marihuana. ## Seleccionamos las variables de edad de inicio de consumo ## para tabaco, alcohol y marihuana edad_tabaco &lt;- enprecosp$BITA03[enprecosp$BITA03 != 99] edad_alcohol &lt;- enprecosp$BIBA03[enprecosp$BIBA03 != 99] edad_marihuana &lt;- enprecosp$BIMA03[enprecosp$BIMA03 != 99] ## Calculamos los cuantiles q_tabaco &lt;- quantile(edad_tabaco, na.rm = TRUE) q_alcohol &lt;- quantile(edad_alcohol, na.rm = TRUE) q_marihuana &lt;- quantile(edad_marihuana, na.rm = TRUE) ## Calculamos el rango intercuartilar aiq_t &lt;- q_tabaco[4] - q_tabaco[2]; aiq_t ## 75% ## 3 aiq_al &lt;- q_alcohol[4] - q_alcohol[2]; aiq_al ## 75% ## 5 aiq_ma &lt;- q_marihuana[4] - q_marihuana[2]; aiq_ma ## 75% ## 5 ## Calculamos el rango semi-itercuartilar aiq_t/2 ## 75% ## 1.5 aiq_al/2 ## 75% ## 2.5 aiq_ma/2 ## 75% ## 2.5 10.2.2 Varianza y desvío estándar Una de las medidas más utilizadas para medir la variabilidad cuando los datos son cuantitativos es la varianza (\\(s^2\\)) y el desvío estándar (\\(s\\)). Sea n la cantidad de casos. La varianza es la suma de los cuadrados de los desvíos con respecto a la media, dividido por n - 1. \\[ s^2 = \\frac{\\sum_{i=1}^n (x_i - \\bar{x})^2}{n - 1} \\] El desvío estándar es la raíz cuadrada de la varianza. \\[ s = \\sqrt{s^2} \\] ## Calculemos la varianza para los edad de ## Inicio de consumo de tabaco ## Quitamos los valores faltantes edad_tabaco &lt;- edad_tabaco[!is.na(edad_tabaco)] ## Calculo la varianza n &lt;- length(edad_tabaco) xn &lt;- mean(edad_tabaco) s2 &lt;- sum((edad_tabaco - xn)^2) / (n - 1); s2 ## [1] 19.81292 ## Desvío estándar sqrt(s2) ## [1] 4.45117 ## Utilizando la función sd var(edad_tabaco) ## [1] 19.81292 sd(edad_tabaco) ## [1] 4.45117 ## Calculamos sd para alcohol y marihuana sd(edad_alcohol, na.rm = TRUE) ## [1] 4.705321 sd(edad_marihuana, na.rm = TRUE) ## [1] 5.476129 La varianza y el desvío estandar dependen de la unidad de medida que se utilice. Por ejemplo, la varianza de la edad de inicio de consumo de alcohol se mide en años al cuadrado. Y el desvío en años. Ello hace que la medida sea diferente si utilizamos escalas diferentes. Imaginemos que medimos el peso de un grupo de personas en gramos y en kilos. La varianza, para ese grupo de personas, medida en \\(gramos^2\\) será más grande que cuando la midamos en \\(kilos^2\\). A veces, incluso, nos interesa comparar magnitudes diferentes, por ejemplo, peso y altura, y comparar la varianza de ambas variables. Para poder interpretar más facilmente el desvío estandar en términos relativos se utiliza el coeficiente de variación (CV) \\[ CV = \\frac{s}{\\bar{x}} * 100 \\] El coeficiente de variación es adimensional y me permite comparar el desvío estandar en términos de porcentajes. sd(edad_tabaco) / mean (edad_tabaco) * 100 ## [1] 26.02141 sd(edad_marihuana, na.rm = TRUE) / mean(edad_marihuana, na.rm = TRUE) * 100 ## [1] 28.00788 10.2.3 Varibilidad en variables cualitativas Para medir la variabilidad en variables cualitatiativas podemos hacer uso de coefientes de incertidumbre. La idea es que mientras más concentrados estén los datos en una categoría, tendrán menor incertidumbre o menor variabilidad. Mientras estén repartidos más equitativamente, entonces tendremos mayor incertidumbre o mayor variabilidad. Una medida útil en estos casos en la H de Shanon y Weaver (1949). \\[ H(x) = -\\sum_{i = 1}^k f_i&#39; * log_2 (f_i&#39;) \\] Utilizando este coeficiente, comparemos la viariabilidad para hombres y para mujeres de: ¿Cuán fácil o difícil le sería conseguir tranquilizantes sin indicación médica? (EnPreCoSP) ## Seleccionamos las variables facil_tranq &lt;- enprecosp$BIAC07_01 sexo &lt;- enprecosp$BHCH04 ## Convertimos a factor facil_tranq &lt;- factor(facil_tranq, labels = c(&quot;Me sería fácil&quot;, &quot;Me sería difícil&quot;, &quot;No podría consegir&quot;, &quot;Ns/Nc&quot;)) sexo &lt;- factor(sexo, labels = c(&quot;Varón&quot;, &quot;Mujer&quot;)) ## Calculamos las frecuencias relativas por sexo tab &lt;- prop.table(table(facil_tranq, sexo), 2); tab ## sexo ## facil_tranq Varón Mujer ## Me sería fácil 0.2874517 0.2626644 ## Me sería difícil 0.2714259 0.2753287 ## No podría consegir 0.3279914 0.3616081 ## Ns/Nc 0.1131311 0.1003988 phombre &lt;- tab[,1] pmujer &lt;- tab[,2] ## Calculamos el coeficiente de incertidumbre -sum(phombre * log2(phombre)) ## [1] 1.910841 -sum(pmujer * log2(pmujer)) ## [1] 1.882528 10.3 Medidas de forma Con la librería e1071 podemos calcular la simetría y la curtosis de una distribución. library(e1071) ## Seleccionamos la edad y la guardamos en una nueva variable edad &lt;- enprecosp$BHCH05 ## Simetría skewness(edad, na.rm = TRUE) ## [1] 0.2444952 ## Curtosis kurtosis(edad, na.rm = TRUE) ## [1] -1.048094 La distribución normal es un concepto teórico que nos permite aproximar el comportamiento de una gran cantidad de variables. Existe una definición matemática precisa de la distribución normal. Por ahora, nos conformaremos con saber que la distribución normal tiene una forma acampanada. ggplot(data.frame(x = 0), aes(x = x)) + stat_function(fun = dnorm, col = &quot;black&quot;, size = 1) + xlim(c(-3, 3)) + theme_minimal() + theme( axis.text = element_blank(), axis.ticks = element_blank()) + labs(x = NULL, y = NULL) Dos medidas comunmente utilizadas son la asimetría y la curtosis. La kurtosis mide que tan coludas son las distribuciones con respecto a la normal. El 0 representa una distribución normal. Valores positivos son distribuciones más coludas (con más valores extremos) y valores negativos distribuciones menos coludas. knitr::include_graphics(&quot;./img/1008px-Standard_symmetric_pdfs.png&quot;) Un índice entre -0.5 y 0.5 indica que la distribución es mesocúrtica. Un índice mayor a 0.5 insdica que la distribución es leptocúrtica Un índice menor a -0.5 indica que la distribución es platicúrtica 10.4 Estandarización La estandarización mediante los procesos de centrado y escalado de los datos. Para centrar los datos, les restamos la media. Para escalarlos, los dividimos por su desvío estándar. ## Seleccionamos la edad y la guardamos en una nueva variable edad &lt;- enprecosp$BHCH05 ## Centramos edad_centrada &lt;- edad - mean(edad) ## Escalamos edad_estandarizada &lt;- edad_centrada / sd(edad) Los puntajes estandarizados, también llamados puntajes z, son adimensionales. Esa transformación es útil para comparar a los individuos con su grupo de referencia, y detectar, por ejemplo, valores extremos. Al ser una medida relativa, también nos sirve para comparar a un individuo en diferentes variables. Veremos posteriormente que, en las distribuciones normales, aproximadamente el 95% de los casos se encuentra entre -2 y 2 desvíos estandar. Por lo tanto, encontrar individuos con puntajes z mayores a 2 o menores a -2 nos indica que son más bien casos atípicos. References "]
]
